ServerTokens ProductOnly
ServerSignature Off

<VirtualHost *:80>
	ServerAdmin webmaster@localhost

	DocumentRoot /var/www/html

	RewriteEngine On
	RewriteCond %{DOCUMENT_ROOT}/maintenance.html -f
	RewriteCond %{DOCUMENT_ROOT}/maintenance.enable -f
	RewriteCond %{SCRIPT_FILENAME} !maintenance.html
	RewriteRule ^.*$ /maintenance.html [R=503,L]
	ErrorDocument 503 /maintenance.html
	Header Set Cache-Control "max-age=0, no-store"

	RedirectMatch ^/$ /hanelly/app/default.html

	ErrorLog ${APACHE_LOG_DIR}/error.log
	CustomLog ${APACHE_LOG_DIR}/access.log combined
</VirtualHost>

## Reverse-proxy configs ##

# Single Sign-On SAML ADFS Configuration
#<Location /hanelly/app/default.html>
#        AuthType shibboleth
#        ShibRequestSetting requireSession 1
#        require valid-user
#
#        ProxyPreserveHost On
#        ProxyPass ajp://hanelly:8009/10.1.3.31/app/default.html
#        ProxyPassReverse ajp://hanelly:8009/10.1.3.31/app/default.html
#</Location>

<Location /hanelly>
	ProxyPreserveHost On

	ProxyPass ajp://hanelly:8009/hanelly
	ProxyPassReverse ajp://hanelly:8009/hanelly
</Location>

## Monitoring PoC is disabled by default
#<Location /grafana>
#    ProxyPreserveHost On
#	
#    ProxyPass http://grafana:3000
#    ProxyPassReverse http://grafana:3000
#</Location>
