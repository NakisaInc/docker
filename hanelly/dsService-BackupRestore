
  taskmanager:
    image: <NAK_IMAGE_TASK_MANAGER>
    volumes:
        - /nakisa/app-volumes/taskManager-logs:/nakisa-queue/logs
    environment:
        nakisa.application.service.url: "http://hanelly:8080/hanelly/app/services/QueueService/"
        nak.authentication.token: "<NAK_BNR_AUTHENTICATION_TOKEN>"
		
  backupmanager:
    image: <NAK_IMAGE_BACKUP_RESTORE>
    volumes:
        - /nakisa/app-volumes/backupRestore-data:/nakisa/backup
        - /nakisa/app-volumes/backupRestore-logs:/nakisa-backup/logs
        - /nakisa/app-volumes/backupRestore-storage:/nakisa/storage/fakeStorage
    environment:
        nak.app.name: "hanelly"
        nak.app.image: <NAK_SOLUTION_RELEASE_HANELLY>
        nak.app.service.url: "http://hanelly:8080/hanelly/app/services/BackupRecoveryService/backup"
        nak.authentication.token: "<NAK_BNR_AUTHENTICATION_TOKEN>"
        nak.volume.path.backup: "/nakisa/backup"
        nak.app.storage.external: "/nakisa/storage"
        aws.accesskey: "<NAK_AWS_ACCESS_KEY>"             # 20 char AWS Access Key
        aws.secretkey: "<NAK_AWS_SECRET_KEY>"             # 40 char AWS Secret Key
        aws.bucket: "<NAK_AWS_BUCKET>"                    # nakisa-dev-br-ca-central-1
        aws.region: "<NAK_AWS_REGION>"                    # ca-central-1
        aws.customer: "<NAK_AWS_CUSTOMER_NAME>"           # Australia Post
        aws.installation: "<NAK_AWS_INSTALLATION_NAME>"   # Australia Post-Prod
        # below are only for naming and tagging in S3, no functional use 
        aws.availabilityzone: "NR-AVAILABILITY-ZONE"
        aws.vpcnetwork: "NR-VPC-NETWORK"
        aws.customernetwork: "NR-CUSTOMER-NETWORK"
        aws.subnettype: "NR-SUBNET-TYPE"
        # cron job reference: http://www.quartz-scheduler.org/documentation/quartz-2.x/tutorials/crontrigger.html
        # sec min hour dayOfMonth month dayOfWeek year
        nak.default.backup.schedule.cron: "0 0/5 0 1/1 * ? *"
        nak.default.backup.sons.count: "7"
        nak.default.backup.fathers.count: "4"
        nak.default.backup.grandfathers.count: "13"
        # set to true for local storage (fakeStorage), false for S3 storage 
        nak.default.backup.local.storage: "false"
